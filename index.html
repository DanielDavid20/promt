<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Generador de Prompt - Comentario Negativo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="header">
    <h1>üß† Generador de Prompts Inteligente</h1>
    <p>Responde comentarios negativos en Facebook con argumentos s√≥lidos y respeto</p>
  </div>
  <form class="card" onsubmit="event.preventDefault(); generarPrompt();">
    <label for="tema">Tema del comentario</label>
    <input type="text" id="tema" placeholder="Ejemplo: participaci√≥n pol√≠tica de las mujeres" autocomplete="off" required>

    <label for="link">Link a la publicaci√≥n</label>
    <input type="text" id="link" placeholder="Ejemplo: https://facebook.com/post/123" autocomplete="off" required>

    <label for="comentario">Comentario textual</label>
    <textarea id="comentario" rows="4" placeholder="Escribe aqu√≠ el comentario negativo..." required></textarea>

    <div class="actions">
      <button type="submit" class="gen">Generar Prompt</button>
    </div>
    <div class="output" id="resultado"></div>
    <div class="copy-actions" style="display:flex; flex-direction:column; gap:10px; margin-top:10px; display:none;">
      <button id="copiarRedirigir" type="button" class="chatgpt" onclick="copiarYRedirigir()"><img src="chat gpt.png" alt="ChatGPT" class="icon-img-chatgpt" aria-hidden="true"/> Copiar y abrir ChatGPT</button>
      <button id="copiarRedirigirCopilot" type="button" class="copilot" onclick="copiarYRedirigirCopilot()"><img src="copilot.png" alt="Copilot" class="icon-img-copilot" aria-hidden="true"/> Copiar y abrir Copilot</button>
      <button id="copiarRedirigirGemini" type="button" class="gemini" style="display:none;" onclick="copiarYRedirigirGemini()"><img src="gemini.png" alt="Gemini" class="icon-img-gemini" aria-hidden="true"/> Copiar y abrir Gemini</button>
    </div>
  </form>

  <!-- Modal personalizado -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <button class="close" onclick="cerrarModal()" aria-label="Cerrar ventana">&times;</button>
      <div id="modalMensaje"></div>
      <button onclick="continuarRedireccion()">Continuar</button>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script>
    let redireccionURL = null;

    function generarPrompt() {
      const tema = document.getElementById("tema").value.trim();
      const link = document.getElementById("link").value.trim();
      const comentario = document.getElementById("comentario").value.trim();

      const prompt = `Quiero que me ayudes a responder a un comentario negativo en Facebook relacionado con el tema *${tema}*,  que fue publicado en el siguiente enlace:  ${link}.

El comentario dice: *"${comentario}"*.

Necesito que generes *5 posibles respuestas* que cumplan con lo siguiente:
- Sean claras, respetuosas y firmes.
- Est√©n fundamentadas en legislaci√≥n colombiana vigente (cita art√≠culos o leyes si aplica).
- Utilicen t√©cnicas de contraargumentaci√≥n, sin caer en provocaciones ni lenguaje ofensivo.
- Est√©n alineadas con los valores del Partido MIRA: respeto, coherencia y responsabilidad.
- Tengan en cuenta el contexto actual del pa√≠s y hechos verificables.

No incluyas explicaciones internas ni desarrollo adicional, solo las respuestas listas para publicar.`;

      document.getElementById("resultado").textContent = prompt;
      document.querySelector(".copy-actions").style.display = "flex";
      document.getElementById("copiarRedirigir").style.display = "block";
      document.getElementById("copiarRedirigirCopilot").style.display = "block";
      document.getElementById("copiarRedirigirGemini").style.display = "block";
    }

    function copiarYRedirigir() {
      const prompt = document.getElementById("resultado").textContent;
      if (!prompt) return;
      navigator.clipboard.writeText(prompt).then(function() {
        mostrarModal("<strong>A continuaci√≥n ser√°s redirigido a ChatGPT.</strong><br><br>Para pegar tu prompt:<br>- <b>En computadora:</b> presiona <b>Ctrl + V</b> en el cuadro de texto.<br>- <b>En tel√©fono:</b> mant√©n presionado en el cuadro de texto y selecciona <b>'Pegar'</b>.", "https://chatgpt.com/?model=auto");
      });
    }

    function copiarYRedirigirCopilot() {
      const prompt = document.getElementById("resultado").textContent;
      if (!prompt) return;
      navigator.clipboard.writeText(prompt).then(function() {
        mostrarModal("<strong>A continuaci√≥n ser√°s redirigido a Copilot.</strong><br><br>Para pegar tu prompt:<br>- <b>En computadora:</b> presiona <b>Ctrl + V</b> en el cuadro de texto.<br>- <b>En tel√©fono:</b> mant√©n presionado en el cuadro de texto y selecciona <b>'Pegar'</b>.", "https://copilot.microsoft.com/chats/36aEQkA7gcwf7JAgHKQYQ");
      });
    }

    function copiarYRedirigirGemini() {
      const prompt = document.getElementById("resultado").textContent;
      if (!prompt) return;
      navigator.clipboard.writeText(prompt).then(function() {
        mostrarModal("<strong>A continuaci√≥n ser√°s redirigido a Gemini (Google).</strong><br><br>Para pegar tu prompt:<br>- <b>En computadora:</b> presiona <b>Ctrl + V</b> en el cuadro de texto.<br>- <b>En tel√©fono:</b> mant√©n presionado en el cuadro de texto y selecciona <b>'Pegar'</b>.", "https://gemini.google.com/?hl=es");
      });
    }

    function mostrarToast(mensaje) {
      const toast = document.getElementById('toast');
      toast.textContent = mensaje;
      toast.style.display = 'block';
      setTimeout(() => {
        toast.style.display = 'none';
      }, 2000);
    }

    function mostrarModal(mensaje, url) {
      mostrarToast('Prompt copiado exitosamente');
      setTimeout(() => {
        document.getElementById('modalMensaje').innerHTML = mensaje;
        document.getElementById('modal').style.display = 'flex';
        redireccionURL = url;
      }, 2000);
    }

    function cerrarModal() {
      document.getElementById('modal').style.display = 'none';
      redireccionURL = null;
    }

    function continuarRedireccion() {
      if (redireccionURL) {
        window.location.href = redireccionURL;
      }
    }
  </script>
</body>
</html>
